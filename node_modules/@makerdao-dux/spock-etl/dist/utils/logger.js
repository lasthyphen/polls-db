"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getLogger = void 0;
const consola = require('consola');
const DEFAULT_LOGGING_LEVEL = 5; // log everything by default everything
const loggingLevel = process.env.VL_LOGGING_LEVEL;
function getLogger(name) {
    const commonOptions = getCommonOptsBasedOnEnv(process.env.NODE_ENV);
    const logger = consola
        .create({
        ...commonOptions,
        level: loggingLevel !== null && loggingLevel !== void 0 ? loggingLevel : DEFAULT_LOGGING_LEVEL,
    })
        .withTag(name);
    return logger;
}
exports.getLogger = getLogger;
function getCommonOptsBasedOnEnv(NODE_ENV) {
    const isProd = NODE_ENV === 'production';
    const isTest = NODE_ENV === 'test';
    if (isProd) {
        return {
            reporters: [new consola.JSONReporter()],
        };
    }
    if (isTest) {
        return {
            reporters: [],
        };
    }
    return {};
}
//# sourceMappingURL=logger.js.map