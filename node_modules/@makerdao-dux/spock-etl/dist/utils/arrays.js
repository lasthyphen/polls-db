"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findConsecutiveSubsets = exports.getLast = void 0;
const lodash_1 = require("lodash");
function getLast(array) {
    return array[array.length - 1];
}
exports.getLast = getLast;
function findConsecutiveSubsets(_entities, key) {
    const entities = lodash_1.sortBy(_entities, key);
    const subsets = [];
    let acc = [];
    for (const e of entities) {
        const head = getLast(acc);
        // eslint-disable-next-line
        if (!head || e[key] === head[key] + 1) {
            acc.push(e);
        }
        else {
            if (head) {
                subsets.push(acc);
                acc = [e];
            }
        }
    }
    if (acc.length > 0) {
        subsets.push(acc);
    }
    return subsets;
}
exports.findConsecutiveSubsets = findConsecutiveSubsets;
//# sourceMappingURL=arrays.js.map