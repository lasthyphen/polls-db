"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.runAndHandleErrors = void 0;
const node_1 = require("@sentry/node");
function runAndHandleErrors(fn) {
    fn().catch(async (e) => {
        console.error(e);
        node_1.captureException(e);
        try {
            // need for sentry to send async requests
            await node_1.flush();
        }
        finally {
            process.exit(1);
        }
    });
}
exports.runAndHandleErrors = runAndHandleErrors;
//# sourceMappingURL=utils.js.map