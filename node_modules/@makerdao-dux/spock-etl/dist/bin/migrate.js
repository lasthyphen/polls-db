"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.main = void 0;
const configUtils_1 = require("../services/configUtils");
const migrateUtils_1 = require("./migrateUtils");
const utils_1 = require("./utils");
async function main() {
    const configPath = process.argv[2];
    if (!configPath) {
        throw new Error('You need to provide config as a first argument!');
    }
    const configs = configUtils_1.loadConfig(configPath);
    // migrations need to be run synchronously
    for (const config of configs) {
        await migrateUtils_1.migrateFromConfig(config);
    }
}
exports.main = main;
utils_1.runAndHandleErrors(main);
//# sourceMappingURL=migrate.js.map